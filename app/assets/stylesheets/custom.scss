//
// 0. Global styles
// 1. Header
// 2. Homepage and custom pages
// 3. Footer
// 4. Budgets
// 5. Legislation
// 6. Comments
// 7. Admin
// 8. Debates
// 9. Related content
// 10. Proposals
// 11. Polls
// 12. Icons
// 13. Users
//

// 0. Global styles
// --------------------

body {

  .top-bar-title {
    background: #fff;

    &::before {
      background: #fff;
    }
  }
  .subnavigation {
    background: $onshogeland-very-light-grey;

    &, & * {
      color: black !important;
    }
  }

  .button, .button:focus, .budget.button {
    font-weight: bold;
    box-shadow: none;
    background: $brand-secondary;
    color: #000;

    &:hover {
      background: #000;
      color: $brand-secondary;
    }

    &.primary {
      background: #000;
      color: $brand-secondary;

      &:hover {
        background: $brand-secondary;
        color: #000;
      }
    }
  }

  .no-bullet.submenu {
    li {
      a, a * {
        color: #000;

        &.is-active,
        &.is-active * {
          color: $brand;

          &::after {
            border-color: $brand;
          }
        }
      }
    }
  }

  .footer {
    background: $onshogeland-very-light-grey;

    &, & * {
      color: black !important;
    }
  }
}

.footer-image {
  display: none;
}

.input-group-button {
  button,
  .button {
    border-bottom-right-radius: rem-calc(4) !important;
    border-top-right-radius: rem-calc(4) !important;
    max-height: $line-height * 2;
    min-height: 0;
  }
}

.input-group,
.input-group-field {

  input {
    border-bottom-right-radius: 0 !important;
    border-top-right-radius: 0 !important;
    border-right: 0 !important;
  }
}

.input-group-field,
.subnavigation .input-group-field {
  border-bottom-right-radius: 0 !important;
  border-top-right-radius: 0 !important;
}

main {

  .button {
    box-shadow: 0 0 6px 0 rgba(0, 0, 0, 0.5);

    &:hover {
      box-shadow: none;
    }
  }

  .view-mode {

    .button {
      box-shadow: none;
    }
  }
}

.button {
  background: $brand-light;
  min-height: $line-height * 2;

  &:hover {
    background: darken($brand-light, 20%);
    background: $hover;
  }

  &.hollow {
    border-color: $brand;
    color: $brand;
  }

  &.primary {
    background: $brand-secondary;

    &:hover {
      background: $hover-secondary;
    }
  }
}

aside {

  .button {

    &.hollow {
      background: $brand;
      border: 0;
      color: #fff !important;

      &:hover {
        background: $hover;
        color: #fff !important;
      }
    }
  }
}

.help-header {
  border-bottom: 0;
  margin-bottom: $line-height * 2;
  padding-top: $line-height * 2;

  a {
    color: $brand;
    font-weight: bold;
  }

  h1,
  .icon {
    font-size: rem-calc(40);
  }

  .icon {
    padding-right: $line-height / 2;
  }
}

.menu {

  &.simple {
    border-bottom: 4px solid $light;
    display: inline-block;
    margin-bottom: $line-height;

    li {
      display: inline-block;
      margin-right: 0;
      padding: 0 $line-height * 1.5;

      &.is-active {
        border-bottom: 0;
        display: inline-block;
        position: relative;

        &::after {
          border-bottom: 4px solid $title-border;
          bottom: -4px;
          content: "";
          position: absolute;
          right: 0;
          width: 100%;
        }
      }
    }
  }
}

.no-bullet.submenu {
  border-bottom: 4px solid $light;
  margin-bottom: $line-height;

  *::selection {
    color: inherit;
    background: none;
  }

  li {
    display: inline-block;
    margin-right: 0;

    a, a * {
      color: $brand-light;

      &.is-active {
        border-bottom: 0;
        position: relative;

        &::after {
          border-bottom: 4px solid $title-border;
          bottom: -4px;
          content: "";
          position: absolute;
          right: 0;
          width: 100%;
        }
      }
    }
  }
}

.section-help {
  background: $brand-secondary;
  margin: $line-height * 2 0;
  padding: $line-height / 2;

  .lead {
    padding-left: $line-height * 1.5;
    position: relative;

    &::before {
      content: "\f059";
      font-family: "Font Awesome 5 Free";
      font-size: rem-calc(24);
      left: 0;
      position: absolute;
    }
  }

  a {
    color: $brand;
    font-weight: bold;
  }
}

.sidebar-divider {
  border-top: 2px solid $border;
  padding-bottom: $line-height / 2;
}

.sidebar-title {
  border-top: 0;
  color: $label;
  font-size: $small-font-size;
  margin: 0 0 $line-height / 2;
  padding-top: 0;
}

.debate-show,
.proposal-show,
.poll-question-show,
.investment-project-show,
.budget-investment-show,
.polls-show,
.debate-quiz,
.budget-investment-show,
.draft-panels,
.debate-questions,
.communities-show,
.topic-show,
.milestone-content {

  aside h2 {
    border-top: 0;
    color: $label;
    font-size: $small-font-size;
    margin: 0 0 $line-height / 2;
    padding-top: 0;
  }

  .author a {
    color: $link-dark !important;
  }
}

.back {

  .icon-angle-left {
    padding-right: $line-height / 4;
  }

  &:not([class^="icon-"]) {
    text-decoration: none;
    font-size: $small-font-size;
  }
}

.debate,
.proposal,
.investment-project,
.budget-investment,
.legislation,
.communities-show {
  margin-bottom: $line-height;
}

.debate,
.proposal,
.investment-project,
.budget-investment,
.legislation,
.communities-show,
.budget-investments-list .budget-investment,
.proposals-list .proposal,
.legislation-proposals .proposal {

  .panel {
    border: 2px solid $border;
    border-radius: rem-calc(12);
    box-shadow: none;

    @include breakpoint(medium) {

      img {
        border-bottom-left-radius: rem-calc(12);
        border-top-left-radius: rem-calc(12);
        max-width: none;
        height: 100%;
      }

      .large-2 {
        border-right: 1px solid $border;
      }
    }

    .supported {

      &.callout {
        padding: $line-height / 4;
      }
    }

    &.supported {
      background: $light;
      border-color: $light;

      .truncate {
        opacity: 0;
      }
    }
  }
}

.document-divider {
  background: none;
  border-bottom: 0;
}

.additional-document-link {
  background: none;
  border: 0;
  padding: $line-height / 2 0;

  p:first-child {
    color: $label;
    font-size: $small-font-size;
    text-transform: uppercase;
  }

  a {
    color: $brand;
    font-weight: bold;
  }

  .icon-document::before {
    color: $brand;
    content: "\f2b6" !important;
    font-family: "Font Awesome 5 Free";
  }
}

.tabs {
  border-bottom: 4px solid $light;

  .tabs-title {
    margin-bottom: 0;

    > a {

      &[aria-selected="true"]::after,
      .is-active::after {
        border-bottom: 4px solid $title-border;
        bottom: -4px;
      }
    }
  }
}

.align-bottom {
  vertical-align: bottom;
}

.recommended-index {
  margin-top: rem-calc(-48);
  padding-top: $line-height;

  .hide-recommendations {
    top: -24px;
  }
}

.tags label {
  display: none;
}

.label-title {
  color: $label;
  font-size: $small-font-size;
  text-transform: uppercase;
}

.wide-order-selector {

  label {
    float: none;
    font-size: $small-font-size;
    text-transform: uppercase;
  }

  select {
    color: $label;
    width: auto;
  }
}

.cke_path {
  display: none;
}

.delete-comment {
  color: $brand;
}

.callout a {
  font-size: $small-font-size !important;
}

// 1. Header
// --------------------

header {
  background: none;
  border-bottom: 0;
}

.top-bar {
  background: #fff !important;

  .subnavigation {
    .menu > li {
      a,
      .button {
        background: none;
        border: 0;
        color: #fff;
        min-height: 0;
      }
    }
  }

  .dropdown {

    &.menu > li {

      &.is-active > a {
        color: $text;
      }
    }
  }
}

.top-bar-right {

  @include breakpoint(medium) {
    padding-top: $line-height;
  }

  a {
    position: relative;

    &.hide-for-small-only {

      &::after {
        content: "\f078" !important;
        font-family: "Font Awesome 5 Free";
        font-size: rem-calc(12);
        font-weight: bold;
        position: absolute;
        right: 12px !important;
        top: 10px;
      }
    }
  }
}

.menu-icon {

  &.dark {

    &::after,
    &:hover::after {
      background: $brand;
      box-shadow: 0 7px 0 $brand, 0 14px 0 $brand;
    }
  }
}

.subnavigation {
  background: $brand;

  a {
    color: #fff;

    @include breakpoint(medium) {

      &.is-active::after {
        background: #fff;
      }
    }

    &:hover,
    &.is-active {
      color: #fff;
    }
  }
}

.additional-content .filter-subnav {
  background: $light;
}

.submit-form-box {
  border-color: $light;
}

.subnavigation {

  .dropdown.menu > li {

    &.opens-left > .is-dropdown-submenu {
      background: #fff;
    }

    &.is-dropdown-submenu-parent {

      > a::before {
        border: inset 6px;
        border-bottom-width: 0;
        border-color: $brand transparent transparent;
        border-top-style: solid;
        content: "";
        display: block;
        position: absolute;
        right: 5px;
        top: 20px;
      }

      > a::after {
        border: 0;
        margin-top: 0;
        top: auto;
      }
    }

    // This should match what's in layout.scss
    &.is-active > a {
      color: #fff;
    }

    &.is-active .submenu a {
      color: $brand;
    }

    > a {
      padding-bottom: 0;
      padding-top: 0;
    }

    a {
      padding-left: $line-height / 2;
      padding-right: $line-height;
    }
  }

  .dropdown .is-dropdown-submenu {
    min-width: rem-calc(240);
    width: max-content;

    li {
      display: block;
    }

    a {
      display: block;
      font-size: $small-font-size;
      padding: 0 $line-height / 2;
      width: 100%;
    }
  }
}

// 2. Homepage and custom pages
// ----------------------------

.home-page {

  .jumbo {
    background: none;
    background-size: 0;

    @include breakpoint(large) {
      background: none;
      background-position: right -150px bottom 0;
      background-repeat: no-repeat;
      background-size: contain;
      margin-top: $line-height * 2;
      min-height: $line-height * 30;
    }

    h1 {
      font-size: rem-calc(36);

      @include breakpoint(large) {
        font-size: rem-calc(90);
      }
    }

    .button {
      position: relative;

      &::after {
        content: "\f054";
        font-family: "Font Awesome 5 Free";
        font-weight: bold;
        position: absolute;
        right: 24px;
        top: 19px;
      }
    }
  }

  .lead {
    font-size: rem-calc(20);
    font-weight: bold;
    margin: $line-height 0;

    @include breakpoint(medium) {
      font-size: rem-calc(24);
      margin: $line-height * 2 0;
    }
  }

  h3 {

    &.title {
      border-bottom: 0;
      border-top: 4px solid $title-border;
    }
  }
}

.home-page .card,
.custom-page .card {
  flex-grow: initial;
  margin-top: $line-height;

  figure {
    border-top-left-radius: rem-calc(12);
    border-top-right-radius: rem-calc(12);
  }

  a {
    background: $brand-secondary;
    border: 2px solid #fff;
    border-radius: rem-calc(12);
    color: $text;
    height: 100%;

    &:hover {
      border: 2px solid $border;
      transform: translate(0, -12px);

      img {
        transform: none;
      }
    }
  }

  h4,
  p {
    padding: 0 $line-height / 2;

    &:last-child {
      bottom: 0;
      color: $text;
      text-align: right;
      text-decoration: underline;
    }
  }

  .figure-card {

    @include breakpoint(medium) {
      max-height: $line-height * 10;
    }
  }

  .figure-card figcaption {
    height: 100%;

    h3 {
      bottom: 0;
      font-size: rem-calc(24);
      min-height: $line-height * 2;
      position: absolute;
      text-transform: none;
    }

    span {
      background: rgba(255, 255, 255, 0.5);
      position: absolute;
      top: 24px;
    }
  }

  h4,
  .dates {
    color: $text;
    margin-bottom: 0;
  }

  .phase {
    color: $text;
    font-size: $tiny-font-size;
    font-weight: bold;
    margin-bottom: 0;
    text-transform: uppercase;
  }

  .dates {
    font-size: $tiny-font-size;
  }

  .completed {
    color: $text;
    display: inline-block;
    position: relative;
    text-transform: uppercase;

    &::after {
      content: "\f023";
      font-family: "Font Awesome 5 Free";
      font-size: $base-font-size;
      right: -12px;
      position: absolute;
      top: -1px;
    }
  }

  &.budget .description {
    display: block;
    max-height: $line-height * 5;
    overflow: hidden;
    padding: 0 $line-height / 2;
    position: relative;

    &::after {
      background: linear-gradient(to bottom, rgba($brand-secondary, 0), rgba($brand-secondary, 1) 50%);
      bottom: 0;
      content: "";
      height: 24px;
      left: 0;
      position: absolute;
      width: 100%;
    }

    p {
      color: $text;
      padding: 0;
      text-align: left;
      text-decoration: none;
    }
  }
}

.welcome-cards {

  @include breakpoint(medium) {
    display: flex;
  }
}

.feed-content-list {

  .row {
    margin: 0 auto;
  }

  .proposal {
    border: 1px solid $border;
    border-top: 0;
    padding: $line-height 0;

    &:first-of-type {
      border-top: 1px solid $border;
      border-top-left-radius: rem-calc(12);
      border-top-right-radius: rem-calc(12);
    }

    &:last-child {
      border-bottom-left-radius: rem-calc(12);
      border-bottom-right-radius: rem-calc(12);
    }
  }

  .feed-image {
    border: 1px solid $border;
    position: relative;

    img {
      position: absolute;
      top: -50%;
    }
  }

  .feed-description {

    a {
      color: $brand;
      display: inline-block;
      margin-bottom: $line-height / 2;
    }

    p {
      font-size: $base-font-size;
    }
  }
}

.home-page-steps {
  border-bottom: 24px solid $light;
  padding: $line-height * 2;

  .number {
    color: $brand;
    display: block;
    font-weight: bold;
    font-size: rem-calc(34);
  }

  h2 {
    font-size: rem-calc(36);
    font-weight: normal;

    @include breakpoint(medium) {
      font-size: rem-calc(60);
    }
  }

  h3 {
    font-size: rem-calc(30);
    font-weight: bold;
    margin-bottom: $line-height;
  }

  p {
    font-size: rem-calc(21);
    line-height: rem-calc(30);
  }

  a {
    color: $brand;
    display: block;
    font-weight: bold;
    margin: 0 auto;
    max-width: 60%;
  }

  .step {
    margin-bottom: $line-height * 2;

    p {
      margin: 0 auto;
      max-width: 80%;
      min-height: rem-calc(180);
    }
  }
}

.header-homepage-image {
  position: absolute;
  right: 0;
  top: 0;
}

.figure-card {

  &.legislation-process img {
    min-height: rem-calc(185);
  }
}

// 3. Footer
// --------------------

footer {
  color: #fff;

  a,
  a:active,
  a:focus {
    color: #fff;
    text-decoration: none;

    &:hover {
      color: #fff;
    }
  }
}

.footer {
  background: $brand;
  padding-top: $line-height * 3;

  .footer-title {
    color: $brand-secondary;
    margin: $line-height 0;
  }

  p {
    font-size: rem-calc(20);
    font-weight: bold;
    line-height: $line-height * 1.5;
  }

  .social {

    [class^="fa"] {
      color: #fff;
      font-size: rem-calc(40);
      text-align: center;
      width: rem-calc(60);
    }

    a {
      color: #fff;
      display: inline-block;
      font-size: rem-calc(20);
      line-height: rem-calc(40);
      vertical-align: top;
    }
  }
}

.subfooter {
  border-top: 0;
  font-size: $base-font-size;
  padding: $line-height 0;

  ul {
    padding-left: $line-height / 4;
  }

  ul,
  li {
    display: inline-block;
  }

  a {
    padding: 0 $line-height / 2;
  }
}

// 4. Budgets
// --------------------

.expanded {

  &.budget {
    background: $brand;

    &:not(.button) .button {
      background: rgba(0, 0, 0, 0.5);
      color: #fff;
      min-width: 30%;
    }
  }
}

.budget-phases {

  .tabs-title > a {

    &:hover {
      background: $brand;
      color: #fff;

      &::after {
        border-left-color: $brand;
      }
    }

    &.current-phase {
      background: $brand-light;
      color: #fff;

      &::after {
        border-left-color: $brand-light;
      }
    }

    &[aria-selected="true"],
    &.is-active {
      background: $brand;
      color: #fff;

      &::after {
        border-left-color: $brand;
      }
    }

    &[aria-selected="true"] {

      &.current-phase {
        background: $brand-light;

        &::after {
          border-left-color: $brand-light;
        }
      }
    }
  }

  .budget-prev-phase,
  .budget-next-phase {

    &::before {
      background: $brand-light;
    }
  }

  img {
    margin-top: rem-calc(100);
  }

  .button {
    margin-top: $line-height * 2;
    padding-right: $line-height * 1.5;
    position: relative;

    &::after {
      content: "\f054";
      font-family: "Font Awesome 5 Free";
      font-weight: bold;
      position: absolute;
      right: 12px;
      top: 19px;
    }
  }
}

.budget-subheader {

  .current-phase {
    color: $label;
    text-transform: uppercase;
  }
}

.groups-and-headings .heading {
  border: 0;
  margin-right: $line-height / 2;

  a {
    border: 2px solid $border;
    border-radius: rem-calc(6);
    box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);
    color: $brand;
    font-weight: bold;
    margin-top: $line-height / 4;

    span {
      font-weight: normal;
      padding-top: $line-height / 2;
    }

    &:hover {
      background: $light;
      transform: translateY(-6px);
    }
  }
}

.jumbo-budget {
  background: #fff;
  border-bottom: 2px solid $border;

  &.budget-heading {
    background: #fff;
    border-bottom: 2px solid $border;
  }

  h1,
  h2,
  h3,
  .back,
  .icon-angle-left,
  p,
  a {
    color: $text;
  }

  .button {
    background: $brand;
    color: #fff;
  }
}

.investment-project .supports .total-supports,
.investment-project-show .supports .total-supports,
.budget-investment .supports .total-supports,
.budget-investment-show .supports .total-supports {
  color: $brand;
}

.investment-project .supports .button-support,
.investment-project-show .supports .button-support,
.budget-investment .supports .button-support,
.budget-investment-show .supports .button-support {
  background: $brand;
  box-shadow: none;

  &:hover {
    background: $brand-secondary;
  }
}

.investment-project .supports .investment-project-amount,
.investment-project .supports .budget-investment-amount,
.investment-project-show .supports .investment-project-amount,
.investment-project-show .supports .budget-investment-amount,
.budget-investment .supports .investment-project-amount,
.budget-investment .supports .budget-investment-amount,
.budget-investment-show .supports .investment-project-amount,
.budget-investment-show .supports .budget-investment-amount {
  color: $brand;
}

.remove {

  .investment-project-amount,
  .budget-investment-amount {
    color: $text !important;
  }
}

.investment-project .supports .remove .icon-check-circle,
.investment-project-show .supports .remove .icon-check-circle,
.budget-investment .supports .remove .icon-check-circle,
.budget-investment-show .supports .remove .icon-check-circle {
  display: none;
}

.progress-bar-nav {
  background: #fff;

  &.is-fixed {
    border-bottom: 2px solid $border;
  }
}

.progress-votes {

  .progress {
    background: #bbcdd9;
  }

  .progress-meter {
    background: $brand;
  }

  .spent-amount-text,
  .total-amount {
    color: $text;
  }

  .spent-amount-text::before {
    color: $brand;
  }
}

.amount-available span {
  color: $brand;
}

.progress-votes .total-amount {
  font-size: $tiny-font-size;

  .amount-spent {
    color: $brand;
  }

  .amount-spent,
  .price {
    font-size: $base-font-size;
  }
}

.supported .button.button-remove-support {
  box-shadow: none;
  color: $brand-secondary;

  &::before {
    left: 20px;
  }
}

.budget-phases {

  h3 {
    margin-top: $line-height;
  }

  .budget-prev-phase::before,
  .budget-next-phase::before,
  .budget-prev-phase-disabled::before,
  .budget-next-phase-disabled::before {
    font-size: rem-calc(36);
    height: rem-calc(48);
    width: rem-calc(48);
  }

  .budget-next-phase::before,
  .budget-next-phase-disabled::before {
    left: 52px;
  }
}

.ballot .subtitle {
  border-left: 2px solid $brand;
}

.ballot-list li {

  &:hover {
    background: $brand;
  }

  .ballot-list-price {
    color: $brand;
  }
}

.budget-investment.index .read-more {
  color: $brand;
}

.budget-investment.index .panel img {
  border-bottom-left-radius: 0;
  width: 100%;
}

.budget-info,
.budget-investment-index-list {

  h2 {
    font-size: rem-calc(20);
    margin: $line-height / 2 0;
  }
}

.budget-investment-index-list {

  .budget-investment {
    margin-bottom: 0;

    &.index .read-more {
      bottom: 0;
      display: block;
      float: none;
      left: 0;
      margin-top: 0;
      padding-right: $line-height / 2;
      position: absolute;
      text-align: right;
      width: 100%;
    }
  }
}

.budget-investment-new .header {
  background: $brand-secondary;

  &::before {
    background: $brand-secondary;
  }

  &::before,
  &::after {
    border-color: $brand-secondary;
    color: $brand-secondary;
  }
}

.budget-investment-new {

  .recommendations li::before {
    color: $brand-secondary;
  }
}

// 5. Legislation
// --------------------

.legislation-hero {
  background: #fff;
  margin-top: rem-calc(-24);
  padding-top: $line-height;

  .icon-angle-left {
    font-size: $small-font-size;

    &::before {
      padding-right: $line-height / 4;
    }
  }
}

.legislation {
  border: 2px solid $border;
  border-radius: rem-calc(12);
  box-shadow: none;
  padding: $line-height 0 $line-height / 2;

  a {
    color: $brand;
    font-weight: bold;
  }
}

.legislation-text {
  margin-bottom: $line-height;

  h3 {
    padding-left: $line-height * 2;
    position: relative;

    &::before {
      color: $border;
      content: "\f02d";
      font-family: "Font Awesome 5 Free";
      font-size: rem-calc(36);
      left: 0;
      position: absolute;
      top: -8px;
    }
  }
}

.legislation-calendar {
  background: none;

  h4 {
    color: $text;

    span {
      color: $brand;
    }
  }

  p {
    color: $text;
    font-size: $small-font-size;
  }

  .column {
    padding: 0 $line-height / 4;
  }
}

.legislation-calendar-info {
  margin-top: $line-height;

  p {
    color: $info;
    text-transform: uppercase;
    font-weight: bold;
  }
}

.legislation-date {
  background: $highlight-soft;
  margin: $line-height / 4 0;
  min-height: $line-height * 6.5;
  padding: $line-height / 2 $line-height / 4;

  .legislation-date-title {
    min-height: $line-height * 4;
  }
}

.date-status {
  color: $highlight-text;
  display: block;
  font-size: $tiny-font-size;
  font-weight: bold;
  margin-top: $line-height / 2;
  padding: $line-height / 4 0;
  text-transform: uppercase;

  &.locked {
    padding-left: rem-calc(18);
    position: relative;

    &::before {
      content: "\f023";
      font-family: "Font Awesome 5 Free";
      font-size: $small-font-size;
      left: 0;
      position: absolute;
      top: 6px;
    }
  }

  &.active {
    background: $brand;
    color: #fff;
    display: table;
    padding: $line-height / 4 $line-height / 2;
  }

  &.published {
    color: $brand;
  }
}

.legislation-title {
  margin-bottom: $line-height * 2;
  margin-top: $line-height * 2;

  h2 {
    padding-left: $line-height * 2;
    position: relative;

    &::before {
      color: $border;
      content: "\f02d";
      font-family: "Font Awesome 5 Free";
      font-size: rem-calc(36);
      left: 0;
      position: absolute;
    }
  }
}

.legislation-content {
  background: $light;
  padding: $line-height;
  margin-bottom: $line-height * 2;
}

.legislation-hero {

  .title {
    border-bottom: 0;
    color: $label;
    margin-top: 0;
  }
}

.legislation-process-list {
  border-bottom: 2px solid $border;

  h3 {
    color: $label;
    font-size: $small-font-size;
    text-transform: uppercase;
  }
}

.key-dates {

  .is-active {
    background: #fff;
    border: 2px solid $border;
    border-bottom: 0;

    &::after {
      background: #fff;
      bottom: -4px;
      content: "";
      height: 4px;
      position: absolute;
    }
  }

  li {
    background: $light;
    border: 0;
    border-bottom: 12px solid #fff;
    min-height: $line-height * 6;
    padding-top: $line-height / 2;

    a h4 {
      color: $text;

      span {
        color: $brand;
      }
    }
  }

  span {
    color: $text;
  }
}

.debate-chooser {

  .debate-list {
    border-bottom: 2px solid $border;
  }

  .debate-meta,
  .debate-meta a {
    color: $text;
  }

  .debate-block {
    margin-bottom: $line-height;

    .brand-light a {
      color: $text;
    }

    .debate-type {
      color: $brand-secondary;
    }
  }
}

.debate-questions {

  .quiz-header {

    .quiz-title {
      background: $light;

      h4 a {
        color: $text;
        font-size: rem-calc(24);
      }
    }

    .quiz-next {
      background: $light;
    }
  }

  aside {

    h3 {
      color: $label;
      font-size: rem-calc(18);
      margin: 0 0 $line-height / 2;
      padding-top: 0;
      text-transform: uppercase;
    }
  }
}

.draft-panels .comments-on .calc-comments .comment-box {
  background: #fff;
  border: 0;

  .comment {
    position: relative;
  }

  .comment-input {
    border-bottom: 0;
  }

  .comment-footer {
    min-height: $line-height * 4;
  }
}

.draft-panels .comment-box {

  .icon-like,
  .icon-unlike {
    color: $text !important;
  }

  .like:hover .icon-like,
  .unlike:hover .icon-unlike {
    color: #fff !important;
  }
}

.draft-panels .comments-on .calc-comments .comments-box-container {
  margin-top: $line-height * 2;
  height: 100%;
  position: relative;
}

.comment-box {

  .button {
    float: right;
    line-height: $line-height * 2;
    margin-top: $line-height / 4;
    padding: 0 $line-height / 2 !important;
  }

  .comment-header {
    border-bottom: 0 !important;
    color: $text !important;
    margin-bottom: 0 !important;

    .icon-comment {
      display: none;
    }
  }

  .cancel-comment {
    color: $brand !important;
    font-size: $small-font-size;
    text-decoration: none !important;
  }

  .comment {
    background: $light !important;
    border: 1px solid $border !important;
    margin-bottom: $line-height / 6 !important;
    padding: $line-height / 2 !important;

    .comment-meta {

      .comment-more-info {
        display: table-cell !important;
        height: $line-height * 2 !important;
        vertical-align: bottom !important;
      }

      .comment-replies a {
        color: $brand !important;
      }
    }

    .comment-meta .comment-votes {
      color: $text !important;
    }

    .votes {
      bottom: 12px !important;
      right: 12px !important;
    }

    .voted {

      .icon-like,
      .icon-unlike {
        color: #fff !important;
      }
    }
  }
}

.draft-panels .comments-on .calc-index .draft-index-rotated {
  margin-top: $line-height * 5;
}

.draft-panels .draft-allegation .draft-panel {
  color: $text;
}

.legislation-list .legislation p {
  word-break: break-word;
}

// 6. Comments
// --------------------

.comments {

  h3 {
    border-bottom: 4px solid $title-border;
    color: $brand;
    display: table;
    font-size: $base-font-size;
    padding: $line-height / 2 $line-height;
  }

  .comment {

    p {
      margin-bottom: $line-height;
    }
  }
}

.comment-info {

  a {
    color: $text;
  }

  .user-name {

    a {
      color: $link-dark;
    }
  }
}

.comment-body {

  .reply {
    border-bottom: 2px solid $border;
    border-top: 0;
    margin-bottom: $line-height / 2;
    margin-top: $line-height;
    padding-bottom: $line-height / 2;

    a {
      font-weight: bold;

      &.add-comment {
        color: $brand;
      }

      &.toggle-children {
        color: $link-dark;
      }
    }

    .icon-arrow-down::before {
      content: "\f078";
      font-family: "Font Awesome 5 Free";
      font-size: $small-font-size;
    }

    .icon-arrow-right::before {
      content: "\f054";
      font-family: "Font Awesome 5 Free";
      font-size: $small-font-size;
    }
  }
}

.comment-children {
  border-left: 2px dashed $border;
  margin-top: $line-height / 2;

  .comment-body {
    padding-left: $line-height / 2;
  }
}

.comment-body .reply [class^="icon-arrow"],
.notification-body .reply [class^="icon-arrow"] {
  left: -18px;
  top: -3px;
}

.comment-body .comment-user,
.notification-body .comment-user {
  margin-bottom: $line-height * 1.5;
}

.comment-votes {

  .votes {
    bottom: 6px;
    position: absolute;
    right: 0;

    .like {

      &:hover,
      &.voted {
        background: $like;
        color: #fff;

        .icon-like {
          color: #fff;
        }
      }
    }

    .unlike {

      &:hover,
      &.voted {
        background: $unlike;
        color: #fff;

        .icon-unlike {
          color: #fff;
        }
      }
    }

    .participation-not-allowed {
      position: relative;
    }
  }

  a {
    color: $text;
  }

  .total {
    vertical-align: bottom;
  }

  .in-favor,
  .against {
    background: $light;
    display: inline-block;
    margin-left: $line-height / 4;
    text-align: center;

    a {
      padding: $line-height / 4 $line-height / 2;
    }

    [class^="icon-"] {
      color: $text;
      display: block;
      font-size: $small-font-size;
    }
  }
}

.flag-disable {
  color: $link-soft;
}

// 7. Admin
// --------------------

.admin table {
  font-size: $small-font-size;

  tr td {
    vertical-align: top;
  }
}

.admin .dropdown.menu > .is-dropdown-submenu-parent > a::after {
  border-color: transparent;
}

.admin .menu.simple {
  display: block;

  .is-active {
    border-bottom: 0;
    color: $brand;
  }
}

.admin .button {
  font-size: $small-font-size;
  min-height: 0;
  min-width: 0;
}

.ui-datepicker-calendar thead tr th {
  border: 1px solid $border;
}

.newsletter-body-content {
  li {
    font-size: $base-font-size;
  }

  tr {
    border: 0 !important;

    &:nth-child(even),
    &:nth-child(even) td:last-child,
    &:nth-child(odd) td:last-child,
    &:hover {
      background: none !important;
    }
  }
}

// 8. Debates
// --------------------

.debate-new .header,
.proposal-form .header,
.budget-investment-new .header {
  background: $brand-secondary;
  color: $text;

  a {
    color: inherit;
  }

  .header-icon {
    color: #fff;
  }

  &::before {
    background: $brand-secondary;
  }

  &::before,
  &::after {
    border-color: $brand-secondary;
    color: $brand-secondary;
  }
}

.debate .votes {
  padding-top: $line-height;
}

.debate .votes,
.debate-show .votes {
  border-left: 0;
}

.debate-show .votes {
  text-align: left;
}

.debate,
.debate-show,
.proposal-show,
.legislation-proposals {

  .votes {

    .divider {
      display: none;
    }

    .percentage,
    .total-votes {
      font-size: $small-font-size;
    }

    .icon-like,
    .icon-unlike {
      background: none;
      border: 0;
      color: $text;
      font-size: $base-font-size;
    }

    .no-voted {

      .icon-like,
      .icon-unlike {
        opacity: 1;
      }
    }

    .like,
    .unlike {
      background: $light;
      display: block;
      padding: $line-height / 4;
      padding-top: $line-height / 2;
      width: rem-calc(48);

      &.voted {

        .percentage {
          color: #fff;
        }
      }
    }

    .like {

      &:hover {
        background: $like;

        .percentage,
        .icon-like {
          color: #fff;
        }
      }

      &.voted {
        background: $like;
      }
    }

    .unlike {

      &:hover {
        background: $unlike;

        .percentage,
        .icon-unlike {
          color: #fff;
        }
      }

      &.voted {
        background: $unlike;
      }
    }
  }
}

// 9. Related content
// --------------------

.related-content-list {

  li {
    border-bottom: 2px solid $border;

    &:first-child {
      border-top: 0;
    }

    .related-content-link {
      display: block;
      width: 80%;

      &:hover {
        text-decoration: none;
      }
    }
  }

  .related-content-title {
    color: $text;
    padding-left: rem-calc(18);
    position: relative;

    &.debate,
    &.proposal,
    &.budget-investment {

      &::before {
        font-family: "Font Awesome 5 Free";
        font-size: $small-font-size;
        left: 0;
        position: absolute;
        top: -3px;
      }
    }

    &.debate::before {
      content: "\f27a";
    }

    &.proposal::before {
      content: "\f0eb";
    }

    &.budget-investment::before {
      content: "\f200";
      font-weight: bold;
    }
  }
}

.related-content {

  h2,
  h2 span {
    color: $label;
    font-size: $small-font-size;
    text-transform: uppercase;
  }

  .add-related-content {
    color: $link;
    font-size: $small-font-size;

    &:hover {
      color: $link-hover;
      cursor: pointer;
      text-decoration: underline;
    }
  }

  a {
    color: $text;
  }
}

// 10. Proposals
// --------------------

.proposals-sidebar {

  .small {

    &:not(.button) {
      display: block;
      color: $link;
      position: relative;

      &::after {
        content: "\f054";
        font-family: "Font Awesome 5 Free";
        font-size: $small-font-size;
        font-weight: bold;
        position: absolute;
        right: 0;
        top: 0;
      }
    }
  }
}

.supports-container {
  border-left: 0;
}

.proposal-show .supports,
.proposal .supports {

  .total-supports {
    font-size: $small-font-size;
    text-align: right;

    span {
      color: $text;
    }
  }

  .button-support {
    background: $brand;
    color: #fff;
    font-weight: bold;
    line-height: $line-height * 2;
    margin-top: $line-height * 2;
    padding-bottom: 0;
    padding-top: 0;

    &:hover {
      background: $hover;
    }
  }

  .progress {
    background: $highlight-soft;
    border: 1px solid $highlight-soft;

    .meter {
      background: $brand-secondary;
      border-bottom-right-radius: 0;
      border-top-right-radius: 0;
    }
  }

  .percentage {
    color: $brand-secondary;
    font-size: $small-font-size;
    font-weight: bold;
    top: -24px;
  }
}

.proposal-show {

  .supports .percentage {
    font-size: $base-font-size;
  }

  blockquote {
    border: 4px solid $light;
    border-radius: rem-calc(12);
    color: $text;
    font-size: $base-font-size;
    margin: $line-height 0;
    padding: $line-height / 2;
  }

  figcaption,
  .video-link {
    display: none;
  }

  .medium-7.small-centered {
    background: $light;
  }
}

.additional-content {

  .filter-subnav {
    background: none;
  }

  .tabs {
    border-bottom: 4px solid $title-border;
  }
}

.followable-content {
  font-weight: bold;
}

.followable-text {
  display: inline-block;
  max-width: 75%;
}

.follow-switch {
  display: inline-block;
  float: right;
  font-size: rem-calc(48);
  line-height: $line-height * 2;
}

.fixed-mobile-content {
  top: 0 !important;

  &.is-stuck {
    top: auto !important;
  }
}

// 11. Polls
// --------------------

.poll,
.poll-question {
  border: 2px solid $border;
  border-radius: rem-calc(12);
  box-shadow: none;
  overflow: hidden;

  @include breakpoint(medium) {

    img {
      border-bottom-left-radius: rem-calc(12);
      border-top-left-radius: rem-calc(12);
      max-width: none;
    }
  }

  .question-list {
    font-size: $small-font-size;

    li {
      margin-bottom: $line-height;
    }
  }

  .message {
    position: absolute;
    left: 0;
    top: 12px;

    span {
      float: left;
      font-size: rem-calc(36);
      margin-right: $line-height / 2;
    }
  }

  .button {
    margin-bottom: $line-height;
  }

  .image-container {
    min-height: $line-height * 10;
  }
}

.section-title-divider {
  border-bottom: 4px solid $light;
  color: $brand;

  span {
    border-bottom: 0;
    display: inline-block;
    position: relative;

    &::after {
      border-bottom: 4px solid $title-border;
      bottom: -4px;
      content: "";
      left: 0;
      position: absolute;
      width: 100%;
    }
  }
}

.poll-question {
  padding-top: $line-height;

  h3 {
    margin-bottom: 0;
    padding-top: 0;
  }
}

.poll-question-answers {

  span,
  a {
    width: 100%;
  }

  .button {

    &.hollow {

      &.secondary,
      &.secondary.disabled,
      &.secondary[disabled],
      &.secondary.disabled:hover,
      &.secondary[disabled]:hover,
      &.secondary.disabled:focus,
      &.secondary[disabled]:focus {
        border: 2px solid $text;
        color: $text;
        font-weight: bold;
      }
    }

    &.answered {
      background: $brand;
      border: 2px solid $brand;
      color: #fff;

      &::after {
        background: $brand;
        border: 2px solid #fff;
        color: #fff;
        right: -8px;
        top: -12px;
      }
    }
  }
}

.poll-more-info-answers-divider {
  border-top: 4px solid $border;
}

.poll-more-info-answers {

  .row {
    display: flex;
    flex-wrap: wrap;
  }

  .column:only-child {
    width: 100%;
  }

  .column:nth-child(odd),
  .columns:nth-child(odd) {
    border-right: 0;
  }
}

.answer-question h2 {
  font-size: rem-calc(24);
}

.answer {

  a,
  img {
    outline: 0;
  }

  img {
    border: 2px solid $border;
  }

  .icon-search-plus::before,
  .icon-search-minus::before {
    position: absolute;
    right: 12px;
    top: 0;
  }

  .zoom-link,
  .orbit-caption,
  .orbit-controls {
    display: none;
  }
}

// 12. Icons
// --------------------

.debate-content h3,
.debate-show h1,
.proposal-content h3,
.proposal-show h1,
.poll h4,
.polls-show h1 {
  position: relative;

  &::before {
    color: $border;
    font-family: "Font Awesome 5 Free";
    font-size: rem-calc(30);
    font-weight: normal;
    position: absolute;
    left: 0;
  }
}

.debate-content h3,
.debate-show h1 {

  &::before {
    content: "\f27a";
  }
}

.proposal-content h3,
.proposal-show h1 {

  &::before {
    content: "\f0eb";
    font-size: rem-calc(36);
  }
}

.poll h4,
.polls-show h1 {

  &::before {
    content: "\f080";
    font-size: rem-calc(36);
  }
}

.debate-content h3,
.debate-show h1,
.debate-info,
.proposal-content h3,
.proposal-show h1,
.proposal-info,
.poll h4,
.polls-show h1 {
  padding-left: $line-height * 2;
}

.debate-show h1,
.polls-show h1 {

  &::before {
    top: 10px;
  }
}

.proposal-show h1 {

  &::before {
    top: 7px;
  }
}

// 13. Users
// --------------------

.auth-page {

  .auth-title {
    margin: $line-height * 2 0;
    text-align: center;
  }

  .auth-form {

    @include breakpoint(medium) {
      margin-bottom: 0;
      padding-bottom: $line-height * 10;
    }

    a,
    p,
    a h2,
    .checkbox {
      font-size: $base-font-size;
    }

    .checkbox {
      font-weight: bold;
    }

    h2 {
      font-size: rem-calc(48);
    }

    img {
      padding-top: rem-calc(100);
    }
  }

  .auth-image {
    background-color: transparent;
    background-size: auto;

    @include breakpoint(medium) {
      min-height: rem-calc(1390);
    }
  }

  .submenu h2 {
    margin: 0;
    margin-bottom: $line-height / 2;
  }
}

// We need the !important to override the !important
// set by gems/foundation-rails-6.6.1.0/vendor/assets/scss/typography/_base.scss
h1, .h1,
h2, .h2,
h3, .h3,
h4, .h4,
h5, .h5,
h6, .h6 {
  font-family: inherit !important;
}

.debate-new .header,
.proposal-form .header,
.budget-investment-new .header {
  h1, h2 {
    @include breakpoint(medium) {
      padding-right: rem-calc(200);
    }

    @include breakpoint(large) {
      padding-right: rem-calc(240);
    }
  }

  @include breakpoint(large) {
    .header-icon ~ h1, .header-icon ~ h2 {
      padding-right: rem-calc(360);
    }

    .header-icon, &.header-single-heading .header-icon {
      top: calc(50% - #{rem-calc(30)});
    }
  }


  @include breakpoint(medium) {
    &.header-single-heading::after, &::after {
      padding-top: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
  }
}
